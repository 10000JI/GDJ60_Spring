<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <!-- 어느 DAO에 적용할지 namespace 작성, class가 중복 또는 헷갈릴 수 있으니 "풀패키지명"으로 작성 -->
  <mapper namespace="com.iu.s1.product.ProductDAO">
  	<!-- id명은 헷갈릴수 있으니 "메소드명"으로 작성 -->
  	<select id="getProductList" resultType="com.iu.s1.product.ProductDTO" statementType="PREPARED">
  		SELECT PRODUCTNUM, PRODUCTNAME, PRODUCTJUMSU
  		FROM PRODUCT
  		ORDER BY PRODUCTNUM DESC
  	</select>
  	
  	<!-- parameterType: dto가 있는 패키지명.클래스 (PrepearedStateMent클래스에서 ? 값 넣는 역할) -->
  	<!-- resultType: dto가 있는 패키지명.클래스 (ResultSet클래스 역할) --> 
  	<!-- resultType의 데이터에 select를 매핑 (자동으로 setter를 찾음) -->
  	<select id="getProductDetail" parameterType="com.iu.s1.product.ProductDTO" resultType="com.iu.s1.product.ProductDTO">
  		<!-- ?의 자리에 #{get메소드에서 get빼고 첫글자 소문자} -->
  		SELECT * FROM PRODUCT WHERE PRODUCTNUM=#{productNum}
  	</select>
  	
  	<!-- DDL구문은 resultType이 int -> 써주지 않아도 됨 -->
  	<insert id="setAddProduct" parameterType="com.iu.s1.product.ProductDTO" >
  		INSERT INTO PRODUCT
		VALUES (#{productNum},#{productName},#{productDetail},0.0)
	</insert>
  </mapper>